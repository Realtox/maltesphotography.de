generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Collection {
  id      String @id @default(cuid())
  urlName String

  title       String
  description String?
  coverId     String?

  albums Album[]
}

model Album {
  id      String @id @default(cuid())
  urlName String

  title       String
  description String?
  coverId     String?

  collection   Collection? @relation(fields: [collectionId], references: [id], onDelete: Cascade)
  collectionId String?

  files File[]
}

model File {
  id      String @id @default(cuid())
  urlName String

  title String

  description String?

  internal Boolean @default(false)

  mimeType String
  fileName String
  size     Int
  width    Int
  height   Int

  album   Album?  @relation(fields: [albumId], references: [id], onDelete: Cascade)
  albumId String?
}

model Snippet {
  id String @id @default(cuid())

  key   String
  value String

  description String?
}
